<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="utf-8" />
      <title>Freetunnel - View</title>
      <meta name="viewport" content="width=device-width,initial-scale=1" />
  </head>
  <body>
      <h1>
          <%=`${request.url} - ${request.method}`%>
      </h1>
      <h1>Request</h1>
      <form method="post"><input type="hidden" value="{{id}}"><input type="submit" value="Replay"></form>
      <h3>Headers</h3>
      <% for (const [key, value] of Object.entries(request.headers)) { %>
              <li><b><%= key %></b> - <%= value %></li>
      <% } %>
      <h3>Body</h3>
      <pre><%= typeof request.body === 'object' ? JSON.stringify(request.body) : request.body %></pre>
      <h1>Response</h1>
      <h3><%= request.result.status %></h3>
      <h3>Headers</h3>
      <% for (const [key, value] of Object.entries(request.result.headers)) { %>
          <li><b><%= key %></b> - <%= value %></li>
      <% } %>
      <h3>Body</h3>
      <pre><%= request.result.data %></pre>
  </body>
</html>
